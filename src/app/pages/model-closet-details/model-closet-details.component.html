<app-navbar></app-navbar>

<div class="bg-gray-100">
    <section id="models" class=" h-full mt-10">
        <div class="py-5">
            <div class="text-center m-auto my-20 text-2xl">
                <h1 class="font-bold text-black mb-4">Conversor de Potência</h1>
            </div>
            <div id="render-section"
                class=" h-max grid lg:grid-cols-2 md:grid-cols-1 gap-12 lg:gap-8 px-4 sm:px-6 lg:px-8">
                <div id="photo-model"
                    class="h-max text-center px-5 rounded-2xl cursor-pointer w-9/12 justify-center mx-auto items-center">
                    <div class="w-full h-96 bg-closet-conversor-power bg-no-repeat bg-center bg-cover"></div>
                    <h3 class="text-xl font-bold py-4 bg-gray-300">Conversor de Potência</h3>
                    <p class="leading-relaxed bg-gray-300">EPA NAO SEI</p>
                </div>


                <div id="render-table" class="overflow-x-auto">
                    <table class="w-full divide-y divide-gray-300">
                        <thead class="">
                            <tr>
                                <th scope="col"
                                    class="px-4 py-2 text-left text-xs font-medium text-black uppercase tracking-wider">
                                    Especificação</th>
                                <th scope="col"
                                    class="px-4 py-2 text-left text-xs font-medium text-black uppercase tracking-wider">
                                    Valor</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-300">
                            <tr>
                                <td class="px-4 py-2 whitespace-nowrap">Nome</td>
                                <td class="px-4 py-2 whitespace-nowrap">OLA</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="grid grid-cols-2 md:grid-flow-col-1 gap-0 mt-20 place-items-center">
                <div class="text-center">
                    <div class="w-96 h-64 bg-hur-image bg-cover bg-center ms-auto"></div>
                    <h3 class="text-xl font-bold py-4">Hur (Cerebro)</h3>
                </div>
                <div class="text-center">
                    <div class="w-96 h-64 bg-hur-2-image bg-cover bg-center me-auto"></div>
                    <h3 class="text-xl font-bold py-4">Hur 2</h3>
                </div>
            </div>
        </div>
    </section>









    <section class="w-full flex flex-col items-center pt-10 pb-20">
        <div class="text-xl text-left mb-4">
            <h1 class="font-bold text-black">Pesquisar Erros</h1>
        </div>
        <div class="w-full flex justify-center">
            <div class="relative w-5/6">
                <input [(ngModel)]="query" (input)="onSearch()" type="text" placeholder="Pesquisar..."
                    class="border p-2 w-full pl-10 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
                <svg class="w-6 h-6 absolute left-3 top-2 text-gray-400" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path
                            d="M11 6C13.7614 6 16 8.23858 16 11M16.6588 16.6549L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z"
                            stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </g>
                </svg>
            </div>
        </div>

        <!-- Mostrar os resultados da pesquisa -->
        <div *ngIf="showResults && results.length > 0 && !selectedResult"
            class="relative w-5/6 mt-2 bg-white border border-gray-300 p-4 rounded-lg shadow-lg">
            <ul>
                <li *ngFor="let result of results">
                    <strong (click)="toggleSolution(result)" style="cursor: pointer;">{{ result.error_message
                        }}</strong>
                </li>
            </ul>
        </div>

        <!-- Mostrar a solução selecionada -->
        <div *ngIf="selectedResult"
            class="relative w-5/6 mt-2 bg-white border border-gray-300 p-4 rounded-lg shadow-lg">
            <!-- Ícone SVG para fechar o div -->
            <svg (click)="closeSolution()"
                class="w-6 h-6 absolute top-3 right-3 text-gray-500 cursor-pointer hover:text-gray-700" fill="none"
                stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>

            <div class="font-bold my-4">Possíveis soluções para: {{ selectedResult.error_message }}</div>
            <ol>
                <li *ngFor="let solution of selectedResult.solutions; let i = index">
                  <div class="font-semibold">{{ i + 1 }}. {{ solution.topic }}</div>
                  <ol>
                    <li *ngFor="let description of solution.descriptions; let j = index">
                      <div class="ml-4">{{ j + 1 }}. {{ description }}</div>
                    </li>
                  </ol>
                </li>
              </ol>
        </div>

        <div *ngIf="query && results.length === 0 && showResults"
            class="w-5/6 mt-2 bg-white border border-gray-300 p-4 rounded-lg shadow-lg text-red-500">
            Não encontrado
        </div>
    </section>












</div>

<app-footer></app-footer>